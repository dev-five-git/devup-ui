import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeaderCell,
  TableRow,
} from '@/components/mdx/components/Table'

export const metadata = {
  title: 'Group Selector',
  alternates: {
    canonical: '/docs/api/group-selector',
  },
}

# Group Selector

Group selectors allow child elements to respond to interactions on a parent element. This is useful for creating interactive cards, list items, and other composite components.

## Basic Usage

Add `role="group"` to a parent element, then use `_groupHover`, `_groupFocus`, or `_groupActive` on children:

```tsx
<Box bg="$background" borderRadius="8px" p={4} role="group">
  <Text _groupHover={{ color: '$primary' }}>
    This text changes color when parent is hovered
  </Text>
  <Box _groupHover={{ bg: '$primaryAlpha10' }} p={2}>
    This box changes background on parent hover
  </Box>
</Box>
```

## Available Group Selectors

<Table>
  <TableHead>
    <TableRow>
      <TableHeaderCell>Selector</TableHeaderCell>
      <TableHeaderCell>Triggered when</TableHeaderCell>
    </TableRow>
  </TableHead>
  <TableBody>
    <TableRow>
      <TableCell>
        <code>_groupHover</code>
      </TableCell>
      <TableCell>
        Parent with <code>role=&quot;group&quot;</code> is hovered
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>
        <code>_groupFocus</code>
      </TableCell>
      <TableCell>
        Parent with <code>role=&quot;group&quot;</code> is focused
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>
        <code>_groupActive</code>
      </TableCell>
      <TableCell>
        Parent with <code>role=&quot;group&quot;</code> is active (pressed)
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>
        <code>_groupFocusWithin</code>
      </TableCell>
      <TableCell>Any element inside the group receives focus</TableCell>
    </TableRow>
  </TableBody>
</Table>

## Interactive Card Example

```tsx
<Box
  _hover={{ boxShadow: '0 4px 12px rgba(0,0,0,0.15)' }}
  bg="white"
  borderRadius="8px"
  boxShadow="0 1px 3px rgba(0,0,0,0.1)"
  cursor="pointer"
  p={4}
  role="group"
>
  <Box
    bg="$backgroundMuted"
    borderRadius="4px"
    h="200px"
    overflow="hidden"
    w="100%"
  >
    <Image
      _groupHover={{ transform: 'scale(1.05)' }}
      src="/image.jpg"
      transition="transform 0.2s"
    />
  </Box>

  <Text _groupHover={{ color: '$primary' }} fontWeight={600} mt={3}>
    Card Title
  </Text>

  <Text color="$textMuted" fontSize="14px">
    Card description goes here
  </Text>

  <Box
    _groupHover={{ opacity: 1 }}
    mt={3}
    opacity={0}
    transition="opacity 0.2s"
  >
    <Button>View Details</Button>
  </Box>
</Box>
```

## List Item Example

```tsx
<Box as="ul" listStyle="none" m={0} p={0}>
  {items.map((item) => (
    <Box
      key={item.id}
      _hover={{ bg: '$backgroundMuted' }}
      as="li"
      borderBottom="1px solid $border"
      p={3}
      role="group"
    >
      <Flex align="center" justify="space-between">
        <Text _groupHover={{ color: '$primary' }}>{item.title}</Text>
        <Box _groupHover={{ opacity: 1 }} opacity={0}>
          <Button size="sm">Edit</Button>
        </Box>
      </Flex>
    </Box>
  ))}
</Box>
```

## Navigation Menu Example

```tsx
<Box as="nav">
  <Box
    _hover={{ bg: '$backgroundMuted' }}
    borderRadius="4px"
    p={2}
    role="group"
  >
    <Flex align="center" gap={2}>
      <Box
        _groupHover={{ bg: '$primary' }}
        bg="$textMuted"
        borderRadius="50%"
        h="8px"
        w="8px"
      />
      <Text _groupHover={{ color: '$primary' }}>Menu Item</Text>
      <Box _groupHover={{ opacity: 1 }} ml="auto" opacity={0}>
        â†’
      </Box>
    </Flex>
  </Box>
</Box>
```

## Combining with Responsive Styles

Group selectors can be combined with responsive arrays:

```tsx
<Box p={[2, null, 4]} role="group">
  <Text
    _groupHover={{
      color: ['$primary', null, '$secondary'],
      fontSize: ['16px', null, '18px'],
    }}
  >
    Responsive group hover
  </Text>
</Box>
```

## Nested Groups

For nested groups, the selector applies to the nearest parent with `role="group"`:

```tsx
<Box bg="white" p={4} role="group">
  <Text _groupHover={{ color: 'blue' }}>Responds to outer group</Text>

  <Box bg="$backgroundMuted" mt={2} p={2} role="group">
    <Text _groupHover={{ color: 'red' }}>Responds to inner group</Text>
  </Box>
</Box>
```

## CSS Output

```tsx
<Box role="group">
  <Box _groupHover={{ bg: 'red' }} />
</Box>
```

Generates CSS like:

```css
[role='group']:hover .a {
  background-color: red;
}
```

## Best Practices

1. **Use semantic HTML**: Add `role="group"` to semantically appropriate elements
2. **Keep interactions discoverable**: Don't hide critical content behind group hover
3. **Consider touch devices**: Group hover doesn't work on touch - provide alternative interactions
4. **Use transitions**: Add `transition` prop for smooth state changes
5. **Accessibility**: Ensure interactive elements are keyboard accessible
